<!DOCTYPE html>
<html lang="es">
<body>
    <form id="pedido" action="/pedido" method="post">
        Usuario: <input id="user" type="text" name="email" placeholder="Email">
        Contraseña: <input id="pass" type="password" name="password" placeholder="Contraseña">
        <input type="button" onclick="sub()" value="Submit">
    </form>

    <script>
    function submitLoginForm() {
    const username = document.getElementById("user").value;
    const password = document.getElementById("pass").value;
    const form = document.getElementById("pedido");
    const body = { username, password };
    const xhr = new XMLHttpRequest();
    xhr.open("POST", "/pedido", true);
    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.send(JSON.stringify(body));
    xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
        const response = JSON.parse(xhr.responseText);
        if (response.status == "OK") {
            form.submit();
        } else {
            alert("Invalid username or password");
        }
        }
    };
    }

    </script>
</body>
</html>